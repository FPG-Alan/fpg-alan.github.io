<!DOCTYPE html>
<html lang="cn" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.58.3" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/images/favicon.png" type="image/x-icon" />
    <title>视频蓝图 :: Savvy 用户手册</title>

    
    <link href="/css/nucleus.css?1594281824" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1594281824" rel="stylesheet">
    <link href="/css/hybrid.css?1594281824" rel="stylesheet">
    <link href="/css/featherlight.min.css?1594281824" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1594281824" rel="stylesheet">
    <link href="/css/auto-complete.css?1594281824" rel="stylesheet">
    <link href="/css/theme.css?1594281824" rel="stylesheet">
    <link href="/css/hugo-theme.css?1594281824" rel="stylesheet">
    
      <link href="/css/theme-savvy.css?1594281824" rel="stylesheet">
    

    <script src="/js/jquery-2.x.min.js?1594281824"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/cn/studio/blueprint/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://manual.savvyplatform.com" style="height: 30px; overflow: hidden;">
  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
    y="0px" width="100%" height="130px" viewBox="0 0 1920 1080" style="enable-background:new 0 0 1920 1080; position: relative; top: -50px;" xml:space="preserve">
    <style type="text/css">
      .st0 {
        fill: #FFFFFF;
      }
    </style>
    <g>
      <g>
        <g>
          <polygon class="st0" points="551.7,524.5 499.1,524.6 499.1,441.8 579.8,441.8 579.8,496.2 608.1,496.2 608.1,415.6 472.9,415.6 
				472.9,550.9 551.7,550.7 			" />
          <polygon class="st0" points="579.8,524.5 579.8,550.9 695.4,550.7 695.4,638.2 499.1,638.2 499.1,579.1 472.9,579.1 472.9,664.4 
				721.7,664.4 721.7,524.5 			" />
        </g>
      </g>
      <g>
        <path class="st0" d="M1049,604.6c-2-8.7-2.2-17.6-2.2-26.5c-0.1-18.5,0-37-0.1-55.5c0-3.5-0.3-7.1-0.9-10.5
			c-3.5-18.3-14.4-30.2-32.2-35.6c-12-3.6-24.3-3.7-36.6-1.1c-17.1,3.6-30.8,12.5-40.8,26.9c-1.8,2.6-3.2,5.4-4.9,8.3
			c11,5.8,21.6,11.5,32.4,17.3c0.5-1.7,1-3.2,1.5-4.7c2.4-6.7,6.1-12.6,12.1-16.7c6.1-4.2,12.9-5.2,20-4.2c4.2,0.5,8,2.2,11,5.3
			c4.2,4.3,4.6,11.1,0.9,15.3c-1.9,2.1-4.4,3.2-7.1,3.9c-8.6,2.3-17.2,4.3-25.9,6.5c-8.4,2.1-16.7,4.4-24.1,9.2
			c-6.9,4.5-12.4,10.3-15.1,18.3c-2,6.2-2.2,12.6-1.2,19c1.6,10.4,6.7,18.6,15.4,24.5c6.8,4.6,14.4,6.8,22.6,7.2
			c16.3,0.7,29.6-5.1,39.4-18.3c0.3-0.4,0.8-0.7,1.3-1c0.2,0.4,0.5,0.9,0.7,1.3c1.5,4.9,3.2,9.6,6.1,13.9c0.6,0.9,1.3,1.2,2.3,1.2
			c8.1,0,16.3,0,24.4,0c0.5,0,1.1,0,1.7,0C1049.6,606.9,1049.3,605.8,1049,604.6z M1012.1,565.1c-1.6,10.3-8.8,15.8-18.6,18.1
			c-4.3,1-8.7,0.8-13-0.5c-5.2-1.5-8.6-4.9-9.5-10.4c-0.9-5.9,1.6-10.3,6.6-13.3c4.1-2.5,8.8-3.4,13.3-4.8c4.4-1.3,8.7-2.7,13-4.3
			c3.3-1.2,6.2-3,8.5-5.8c0.2,0.1,0.4,0.1,0.6,0.2C1012.9,551.3,1013.2,558.3,1012.1,565.1z" />
        <path class="st0" d="M1331.3,638.6c3.2-1.1,6.2-2,9.1-3.2c6.5-2.6,12.7-5.9,17.7-11c4.1-4.3,6.9-9.4,8.5-15.2
			c0.2-0.8,0.1-1.8-0.1-2.6c-8.9-24.7-17.9-49.4-26.9-74.1c-6.5-18-13.1-35.9-19.6-53.9c-0.2-0.5-0.3-1-0.6-1.7
			c0.6-0.1,1.1-0.1,1.6-0.1c12.1,0,24.3,0,36.4,0c0.9,0,1.6,0,1.9,1.2c6.2,21.3,12.5,42.5,18.6,63.8c2.2,7.7,4.1,15.5,6.1,23.2
			c0.2,0.6,0.4,1.2,0.7,1.8c0.2,0,0.3,0,0.5,0c0.2-0.7,0.4-1.3,0.6-2c5.5-24.9,12.8-49.3,19.6-73.8c1.2-4.3,2.4-8.6,3.6-12.9
			c0.2-0.8,0.5-1.3,1.5-1.3c12,0,24,0,35.9,0c0.3,0,0.5,0.1,0.9,0.2c-1.2,3.8-2.4,7.4-3.6,11.1c-13.8,41.6-27.5,83.2-41.3,124.9
			c-3,9.1-6.4,18.1-11.9,26.1c-7.1,10.5-16.1,18.6-28.2,22.9c-0.5,0.2-1.4,0.2-1.8-0.1C1350.6,654.2,1341,646.5,1331.3,638.6z" />
        <path class="st0" d="M801.6,577.5c10.8-6,21.4-12,31.7-17.7c1.9,3.7,3.5,7.5,5.8,10.9c5.6,8.3,13.5,12.8,23.5,13.6
			c4.7,0.4,9.3,0.4,13.7-1.4c6.1-2.4,9.3-8,7.6-13.9c-0.9-3.1-3.3-5.1-5.9-6.6c-4.5-2.6-9.5-3.8-14.4-5.2c-9.7-2.7-19.7-4.8-29-9
			c-8.5-3.8-16-8.8-21.3-16.6c-4.4-6.4-5.6-13.4-4.9-20.9c1.5-14.9,10.3-24.5,23.1-30.8c11.1-5.4,22.9-6.9,35.1-6
			c11.7,0.9,22.7,4.1,33,9.9c8.5,4.8,15.6,11.2,20.8,19.8c-10.5,5.9-20.9,11.7-31.4,17.7c-0.3-0.9-0.7-1.8-1-2.7
			c-4.6-12-14.9-18.7-27.7-18c-4.6,0.2-9,1.3-12.7,4.2c-3.8,3-5.4,10.5,0.8,14.3c4.4,2.8,9.4,3.9,14.3,5.4
			c8.5,2.5,17.1,4.7,25.5,7.5c7.9,2.6,15.3,6.4,21.4,12.1c5.4,5.1,9.1,11.2,10.2,18.6c1.3,8.5,0.5,16.7-3.7,24.4
			c-4.6,8.4-11.5,14.4-20.1,18.3c-10.1,4.7-20.9,6.3-32,5.9c-9.2-0.3-18.2-1.6-26.9-4.7c-13.4-4.8-24.7-12.4-32.6-24.4
			C803.5,580.8,802.6,579.2,801.6,577.5z" />
        <path class="st0" d="M1314.7,477c-14.1,43.8-28.1,87.5-42.2,131.3c-0.6,0-1.1,0-1.5,0c-13.6,0-27.3,0-40.9,0
			c-1.2,0-1.8-0.3-2.1-1.5c-13.7-42.8-27.4-85.5-41.2-128.3c-0.1-0.5-0.3-0.9-0.5-1.5c0.6-0.1,1-0.1,1.5-0.1c11.9,0,23.9,0,35.8,0
			c1,0,1.6,0.2,1.9,1.3c6.8,25.2,13.8,50.4,20.6,75.6c1.7,6.2,2.9,12.5,4.4,18.7c0.1,0.4,0.3,0.8,0.8,1.2c0.2-0.3,0.4-0.7,0.5-1.1
			c6.8-31.8,16.5-62.9,24.9-94.2c0.3-1,0.5-1.6,1.8-1.5c11.7,0,23.3,0,35,0C1313.6,476.9,1314,476.9,1314.7,477z" />
        <path class="st0" d="M1118.3,573.6c0.8-3.6,1.7-7.1,2.5-10.7c3.9-18.5,9.5-36.6,14.5-54.9c2.7-9.8,5.5-19.6,8.1-29.4
			c0.3-1.3,0.8-1.8,2.2-1.8c11.4,0.1,22.9,0,34.3,0c0.5,0,1,0,1.8,0c-14.1,43.9-28.2,87.6-42.2,131.4c-14.7,0-29.3,0-44.1,0
			c-14-43.7-28.1-87.4-42.2-131.4c0.8,0,1.4,0,2,0c11.7,0,23.3,0,35,0c1.6,0,2.1,0.5,2.4,1.9c6.7,24.7,13.5,49.4,20.2,74.2
			c1.7,6.2,2.9,12.6,4.4,18.8c0.2,0.7,0.4,1.3,0.6,1.9C1117.9,573.7,1118.1,573.6,1118.3,573.6z" />
      </g>
    </g>
  </svg>
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-close"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1594281824"></script>
<script type="text/javascript" src="/js/auto-complete.js?1594281824"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/localhost\/\/cn";
    
</script>
<script type="text/javascript" src="/js/search.js?1594281824"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/cn/concepts/" title="概览说明" class="dd-item 
        
        
        
        ">
      <a href="/cn/concepts/">
          概览说明
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/cn/savvy-cli/" title="Savvy-cli" class="dd-item 
        
        
        
        ">
      <a href="/cn/savvy-cli/">
          Savvy-cli
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/cn/quick-start-guide/" title="快速开始" class="dd-item 
        
        
        
        ">
      <a href="/cn/quick-start-guide/">
          快速开始
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/cn/dashboard/" title="主面板" class="dd-item 
        
        
        
        ">
      <a href="/cn/dashboard/">
          主面板
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/cn/studio/" title="创作系统" class="dd-item 
        parent
        
        
        ">
      <a href="/cn/studio/">
          创作系统
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/cn/studio/font/" title="字体" class="dd-item 
        
        
        
        ">
      <a href="/cn/studio/font/">
          字体
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/cn/studio/batch/" title="策略" class="dd-item 
        
        
        
        ">
      <a href="/cn/studio/batch/">
          策略
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/cn/studio/blueprint/" title="视频蓝图" class="dd-item 
        parent
        active
        
        ">
      <a href="/cn/studio/blueprint/">
          视频蓝图
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/cn/studio/creative/" title="创意成品" class="dd-item 
        
        
        
        ">
      <a href="/cn/studio/creative/">
          创意成品
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/cn/studio/campaign/" title="广告系列" class="dd-item 
        
        
        
        ">
      <a href="/cn/studio/campaign/">
          广告系列
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/cn/supporting-tickets/" title="工单系统" class="dd-item 
        
        
        
        ">
      <a href="/cn/supporting-tickets/">
          工单系统
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/cn/system/" title="系统设置" class="dd-item 
        
        
        
        ">
      <a href="/cn/system/">
          系统设置
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/cn/develop/" title="开发接口" class="dd-item 
        
        
        
        ">
      <a href="/cn/develop/">
          开发接口
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/cn/develop/access-tokens/" title="访问令牌" class="dd-item 
        
        
        
        ">
      <a href="/cn/develop/access-tokens/">
          访问令牌
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
              
                  
                    
                    
                      <option id="en" value="/studio/blueprint/">English</option>
                    
                  
              
          
              
              
                  
                    
                    
                      <option id="cn" value="/cn/studio/blueprint/" selected>Chinese</option>
                    
                  
              
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
      </ul>
    </section>
    
    <section id="footer">
      <center>
    <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>
</center>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/cn/'>Savvy</a> > <a href='/cn/studio/'>创作系统</a> > 视频蓝图
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#视频蓝图配置文件说明">视频蓝图配置文件说明：</a></li>
<li><a href="#视频蓝图打包">视频蓝图打包：</a></li>
<li><a href="#蓝图钩子">蓝图钩子</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>视频蓝图</h1>
          

        




<p>视频蓝图是指生成多版本视频的蓝图。视频蓝图中一般包含以下内容：</p>

<ul>
<li>配置文件，可以是 yaml 格式或者 json 格式的</li>
<li>Nuke 等文件</li>
<li>字体文件</li>
<li>采样文件，由客户端命令行工具生成，放置在 samples 文件夹下</li>
<li>其他资源文件</li>
</ul>

<p><br></p>

<p><strong>制作视频蓝图时，需要注意以下问题：</strong></p>

<ul>
<li>Nuke 中 jpg 在 linux 下只能命名为 jpeg，否则打开文件时会出错。所以，任何使用到jpg的地方，请使用 jpeg 作为文件扩展名。</li>
<li>对于 Nuke 文件禁止使用绝对路径的资源。Nuke 的项目设置里需设置 project directory 为 <code>[python {nuke.script_directory()}]</code>。</li>
<li>字体文件必须放在 fonts 文件夹下。Nuke 不支持使用相对路径的字体根目录。建议的做法是，本地安装需要使用的字体，然后命令行工具打包时会检测到使用到的字体，并且会将这些字体文件放置到 fonts 文件夹下。</li>
<li>采样文件，由客户端命令行工具生成，放置在 samples 文件夹下。</li>
<li>Nuke 中文字的字体大小等是单个字体设置。所以，动态文字最好不要调整默认字体大小，而是全局缩放，这样如果动态替换后，即使文字长于之前的默认文字长度，也能正常显示。否则，多出的文字将会使用默认文字样式。</li>
</ul>

<h3 id="视频蓝图配置文件说明">视频蓝图配置文件说明：</h3>

<p>视频蓝图配置文件用于描述视频蓝图的基本信息。比如，包含哪些动态字段以及他们的各自类型、有哪些规格的采样文件等。文件可以使用 yaml 或者 json 格式，对应名称分别为：blueprint.yaml, blueprint.json.
以下是一个简单的视频蓝图配置文件：
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#e6db74">&#34;spec_version&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0.0.2&#34;</span>,
  <span style="color:#e6db74">&#34;fields&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#34;city&#34;</span><span style="color:#f92672">:</span>{
      <span style="color:#e6db74">&#34;type&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;text&#34;</span>,
      <span style="color:#e6db74">&#34;required&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
    },
    <span style="color:#e6db74">&#34;inside&#34;</span><span style="color:#f92672">:</span>{
      <span style="color:#e6db74">&#34;type&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;image&#34;</span>,
      <span style="color:#e6db74">&#34;required&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
    },
    <span style="color:#e6db74">&#34;outside&#34;</span><span style="color:#f92672">:</span>{
      <span style="color:#e6db74">&#34;type&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;image&#34;</span>,
      <span style="color:#e6db74">&#34;required&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
    },
    <span style="color:#e6db74">&#34;endframe&#34;</span><span style="color:#f92672">:</span>{
      <span style="color:#e6db74">&#34;type&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;image&#34;</span>,
      <span style="color:#e6db74">&#34;required&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
    },
    <span style="color:#e6db74">&#34;overview&#34;</span><span style="color:#f92672">:</span>{
      <span style="color:#e6db74">&#34;type&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;video&#34;</span>,
      <span style="color:#e6db74">&#34;required&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
    },
    <span style="color:#e6db74">&#34;experience&#34;</span><span style="color:#f92672">:</span>{
      <span style="color:#e6db74">&#34;type&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;video&#34;</span>,
      <span style="color:#e6db74">&#34;required&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
    }
  },
  <span style="color:#e6db74">&#34;output&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;root&#34;</span>,
  <span style="color:#e6db74">&#34;fusions&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#34;root&#34;</span><span style="color:#f92672">:</span> {
      <span style="color:#e6db74">&#34;file&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;concept5.nk&#34;</span>,
      <span style="color:#e6db74">&#34;output&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Merge21&#34;</span>,
      <span style="color:#e6db74">&#34;inputs&#34;</span><span style="color:#f92672">:</span> [{
        <span style="color:#e6db74">&#34;field&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;city&#34;</span>,
        <span style="color:#e6db74">&#34;path&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;DYN_city&#34;</span>
      },{
        <span style="color:#e6db74">&#34;field&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;inside&#34;</span>,
        <span style="color:#e6db74">&#34;path&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;DYN_inside&#34;</span>
      },{
        <span style="color:#e6db74">&#34;field&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;outside&#34;</span>,
        <span style="color:#e6db74">&#34;path&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;DYN_outside&#34;</span>
      },{
        <span style="color:#e6db74">&#34;field&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;endframe&#34;</span>,
        <span style="color:#e6db74">&#34;path&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;DYN_endframe&#34;</span>
      },{
        <span style="color:#e6db74">&#34;field&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;overview&#34;</span>,
        <span style="color:#e6db74">&#34;path&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;DYN_overview&#34;</span>
      }, {
        <span style="color:#e6db74">&#34;field&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;experience&#34;</span>,
        <span style="color:#e6db74">&#34;path&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;DYN_experience&#34;</span>
      }]
    }
  },
  <span style="color:#e6db74">&#34;samples&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#34;300x300&#34;</span><span style="color:#f92672">:</span>{<span style="color:#e6db74">&#34;width&#34;</span><span style="color:#f92672">:</span><span style="color:#ae81ff">300</span>, <span style="color:#e6db74">&#34;height&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">300</span>, <span style="color:#e6db74">&#34;video&#34;</span><span style="color:#f92672">:</span>{<span style="color:#e6db74">&#34;poster&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>}, <span style="color:#e6db74">&#34;image&#34;</span><span style="color:#f92672">:</span>{<span style="color:#e6db74">&#34;frames&#34;</span><span style="color:#f92672">:</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">50</span>]}}
  }
}
</code></pre></div></p>

<ul>
<li>spec_version，这个是当前配置文件所使用的规格文档的版本号，为后续文件规格升级兼容而设，当前版本号为: 0.0.2</li>
<li>fields: fields 节点配置动态字段，字段内的 type 属性必须设置，当前可以设置的值:

<ul>
<li>image, 表示图片类型</li>
<li>video, 表示视频类型</li>
<li>audio, 表示音频类型</li>
<li>file, 表示其他类型的文件类型</li>
<li>text/string, 表示文本类型</li>
<li>color, 表示颜色色值, rgba格式, 可以写成[255, 255, 255, 1], 或者{r:255, g: 255, b:255, a:1}, 或者#FFFFFFFF</li>
</ul></li>
<li>output: 输入最终供输出的 fusion 的名字, fusion 的定义在下面的 fusions 节点。比如： root#write1 代表名字为 root 的 fusion 下的输出路径为 write1 的输出。 output 也可以是一个 object 对象。内部可以包含一个 rules 的定义，rules 为一个数组，数组的每一项是一个object对象，形如： {when: &lsquo;width<300 && height>300&rsquo;, fusion:&lsquo;root#write1&rsquo;}. 其中， when 后面是一个字符串，判断在何时使用 fusion 中定义的输出。 可以用作表达式的属性包含： width, height, aspect_ratio。</li>
<li>audio: 设置音频

<ul>
<li>snatchs: 音频片段设置

<ul>
<li>offset_frame: 音频在输出的文件的时间轴上的位置(以帧为单位)</li>
<li>offset_time: 音频在输出的文件的时间轴上的位置(以秒为单位)</li>
<li>range_begin: 音频文件截取的开始位置</li>
<li>range_close: 音频文件截取的结束位置</li>
<li>field:  音频文件源从field获取</li>
<li>file:  音频文件源从文件获取</li>
</ul></li>
</ul></li>
<li>fusions: 定义 fusion 文件，一个视频蓝图可以包涵多个 fusion，并且他们之前可以存在相互引用的关系，但是一般情况下就只有一个 fusion 文件

<ul>
<li>file: 定义Nuke文件的相对路径</li>
<li>output/outputs: Nuke 文件最终的输出节点。如果只有一个，可以直接定义为output。如果有多个，可以使用 outputs 定义一个数组。数组里的每一个项是一个 object 对象，形如： {path: &ldquo;badfa/zzz&rdquo;, format: &ldquo;mp4&rdquo;, flexible: true}。 path 是输出结点的路径。 flexible 为可选项，默认为 false，代表本结点是静态的，不会因为场景的改变而改变显示，这种情况下，渲染平台可以最大程度使用缓存，多个实例可能公用渲染结果。而 flexible 设置为 true, 意味着此结点会因为场景改变而自动做出调整，此时，多个渲染实例都不会共享渲染结果。</li>
<li>inputs: 定义 Nuke 文件接收的输入，输入可以是前面定义的 fields 部分的字段，也可以是其他的 fusion 文件的输出结果

<ul>
<li>field: 定义将哪个字段作为输入，field 和 fusion 必须定义一个</li>
<li>fusion: 定义将哪个 fusion 文件的输出作为此节点的输入</li>
<li>path: 定义对应的要替换节点的路径。Nuke 中的节点如果存在 Group，则是可以嵌套的。使用 Group1 中的 Text1 的路径就是 Group1/Text1</li>
</ul></li>
</ul></li>
<li>samples: 定义采样信息，采样文件在平台上用于提供视频蓝图预览。要求必须包含一个 &ldquo;300x300&rdquo; 的定义。

<ul>
<li>width: 定义输出的采样视频或者图片的宽度</li>
<li>height: 定义输出的采样视频或者图片的高度</li>
<li>video: 定义输出视频的相关信息

<ul>
<li>poster: 用第几帧的输出作为视频的起始画面</li>
</ul></li>
<li>image: 定义输出图片的相关信息

<ul>
<li>frames: 定义要输出哪些帧的图片</li>
</ul></li>
</ul></li>
</ul>

<h3 id="视频蓝图打包">视频蓝图打包：</h3>

<p>视频蓝图上传前必须使用命令行工具打包，打包过程中，命令行工具会检测文件配置等是否正确。打包命令为：</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">savvy</span> <span style="color:#a6e22e">bundle</span>
</code></pre></div>

<h3 id="蓝图钩子">蓝图钩子</h3>

<p>在蓝图中可以创建一个文件夹，名为 hooks, 里面存放与 fusion 名对应的脚本文件。
before_compute_volumes(volumes, outputs, args, nuke)
catch_compute_volumes(volumes, outputs, args, nuke)
after_compute_volumes(volumes, outputs, args, nuke)
before_adjust_volume(volume, args, nuke)
catch_adjust_volume(volume, args, nuke)
after_adjust_volume(volume, args, nuke)</p>

<p>before_merge_inputs(creative, fusion)
catch_merge_inputs()
after_merge_inputs(creative, fusion)</p>


<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/cn/studio/batch/" title="策略"> <i class="fas fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/cn/studio/creative/" title="创意成品" style="margin-right: 0px;"><i class="fas fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1594281824"></script>
    <script src="/js/perfect-scrollbar.min.js?1594281824"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1594281824"></script>
    <script src="/js/jquery.sticky.js?1594281824"></script>
    <script src="/js/featherlight.min.js?1594281824"></script>
    <script src="/js/html5shiv-printshiv.min.js?1594281824"></script>
    <script src="/js/highlight.pack.js?1594281824"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1594281824"></script>
    <script src="/js/learn.js?1594281824"></script>
    <script src="/js/hugo-learn.js?1594281824"></script>

    <link href="/mermaid/mermaid.css?1594281824" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1594281824"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-125788286-1', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>
